
document.addEventListener('DOMContentLoaded', function () {
  var accordItems = document.querySelectorAll('.mobile-accord-item');

  // Проверяем, есть ли элементы с классом .mobile-accord-item
  if (accordItems.length === 0) {
    console.warn('Элементы с классом .mobile-accord-item не найдены.');
    return; // Прекращаем выполнение, если элементов нет
  }
  accordItems.forEach(function (item) {
    item.addEventListener('click', function (event) {
      // Если элемент является ссылкой (<a>), ничего не делаем и разрешаем переход
      if (item.tagName.toLowerCase() === 'a') {
        return;
      }
      event.preventDefault(); // Предотвращаем стандартное поведение для других элементов

      var parentAccord = item.closest('.mobile-accord');
      if (!parentAccord) return;
      var dataInfo = item.getAttribute('data-info');
      if (!dataInfo) return;
      var sideLinksList = parentAccord.querySelector('.mobile-accord__side-links-list');
      if (!sideLinksList) return;

      // Очищаем список перед добавлением новых элементов
      sideLinksList.innerHTML = '';

      // Парсим данные из data-info
      var linksData = JSON.parse(dataInfo);

      // Создаем HTML-строку с помощью шаблонных строк
      var linksHTML = linksData.map(function (linkData) {
        return "\n              <a class=\"mobile-accord-item\" href=\"".concat(linkData.href, "\"> \n                <p class=\"mobile-accord-item__title\">").concat(linkData.title, "</p>\n                <p class=\"mobile-accord-item__count\">").concat(linkData.count, "</p>\n              </a>\n          ");
      }).join(''); // Объединяем массив в одну строку

      // Вставляем HTML в список
      sideLinksList.innerHTML = linksHTML;

      // Добавляем класс is-active родителю
      parentAccord.classList.add('is-active');
    });
  });

  // Находим кнопку "назад"
  var sideBackButton = document.querySelector('.mobile-accord__side-back');
  console.log('sideBackButton', sideBackButton);

  // Если кнопка "назад" существует, добавляем обработчик клика
  if (sideBackButton) {
    sideBackButton.addEventListener('click', function (event) {
      console.log('test');

      // Находим родительский элемент .mobile-accord
      var parentAccord = sideBackButton.closest('.mobile-accord');
      if (!parentAccord) return;

      // Находим список .mobile-accord__side-links-list
      var sideLinksList = parentAccord.querySelector('.mobile-accord__side-links-list');
      if (!sideLinksList) return;
      parentAccord.classList.remove('is-active'); // Убираем класс is-active

      // Удаляем содержимое списка через 3 секунды
      setTimeout(function () {
        sideLinksList.innerHTML = ''; // Очищаем список
      }, 200); // Задержка 3 секунды
    });
  }
});
document.addEventListener('DOMContentLoaded', function () {
  // Проверяем, есть ли на странице хотя бы один .accord-item
  var accordItems = document.querySelectorAll('.accord-item');
  if (accordItems.length > 0) {
    accordItems.forEach(function (item) {
      var header = item.querySelector('.accord-item__header');
      var drop = item.querySelector('.accord-item__drop');
      if (header && drop) {
        header.addEventListener('click', function () {
          // Закрываем все открытые элементы
          accordItems.forEach(function (otherItem) {
            if (otherItem !== item) {
              otherItem.classList.remove('is-active');
              otherItem.querySelector('.accord-item__drop').style.maxHeight = null;
              otherItem.querySelector('.accord-item__drop').style.opacity = 0;
            }
          });

          // Переключаем класс is-active и анимируем открытие/закрытие
          if (item.classList.contains('is-active')) {
            item.classList.remove('is-active');
            drop.style.maxHeight = null;
            drop.style.opacity = 0;
          } else {
            item.classList.add('is-active');
            drop.style.maxHeight = drop.scrollHeight + 'px';
            drop.style.opacity = 1;
          }
        });
      }
    });
  }
});
//# sourceMappingURL=scripts.min.js.map
